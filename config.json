{
	"name": "REDCap UI Tweaker",
	"namespace": "Nottingham\\REDCapUITweaker",
	"description": "Make adjustments to the REDCap user interface. Features include (each can be enabled as required): For the online designer, change order/placement of field types, set new fields required by default and configure predefined field annotations. Set the form submit options (system-wide setting and per-form action tag). Alternate status icons. Custom from addresses for alerts. 'Simplified views' for the alerts/codebook/user rights. Hide 'unverified' form status option.",
	"permissions": [
		"redcap_every_page_before_render",
		"redcap_project_home_page",
		"redcap_every_page_top",
		"redcap_data_entry_form",
		"redcap_user_rights",
		"redcap_module_system_enable"
	],
	"enable-every-page-hooks-on-system-pages" : true,
	"authors": [
		{
			"name": "Richard Dooley",
			"email": "richard.dooley@nottingham.ac.uk",
			"institution": "University of Nottingham"
		}
	],
	"framework-version" : 6,
	"compatibility": {
		"redcap-version-min": "10.6.0"
	},
	"system-settings" : [
		{
			"key" : "field-types-order",
			"name" : "Order / placement of field types",
			"required" : false,
			"type" : "text"
		},
		{
			"key" : "field-default-required",
			"name" : "Set required status on new fields",
			"type" : "radio",
			"choices" : [
				{ "value" : "1", "name" : "Yes" },
				{ "value" : "0", "name" : "No" }
			]
		},
		{
			"key" : "predefined-annotations",
			"name" : "Predefined field annotations (one per line)",
			"type" : "textarea"
		},
		{
			"key" : "sql-descriptive",
			"name" : "Enable @SQLDESCRIPTIVE action tag",
			"type" : "checkbox"
		},
		{
			"key" : "submit-option-tweak",
			"name" : "Submit options",
			"type" : "radio",
			"choices" : [
				{ "value" : "0", "name" : "Default" },
				{ "value" : "1", "name" : "Remove 'Save and Go To Next Record'" },
				{ "value" : "2", "name" : "'Exit Form', 'New Instance', 'Next Form' and 'Stay' only" }
			]
		},
		{
			"key" : "submit-option-custom",
			"name" : "Allow custom submit options",
			"type" : "checkbox"
		},
		{
			"key" : "custom-alert-sender",
			"name" : "Allow custom from addresses in alerts",
			"type" : "checkbox"
		},
		{
			"key" : "custom-alert-sender-regex",
			"name" : "Regular expression to validate custom from addresses",
			"type" : "text",
			"branchingLogic" : { "field" : "custom-alert-sender", "value" : true },
			"required" : true
		},
		{
			"key" : "alternate-status-icons",
			"name" : "Use alternate status icons",
			"type" : "checkbox"
		},
		{
			"key" : "all-status-types",
			"name" : "Remember the selection of 'all status types' on the record status dashboard",
			"type" : "checkbox"
		},
		{
			"key" : "show-role-name",
			"name" : "Show the user's role below their username",
			"type" : "checkbox"
		},
		{
			"key" : "alerts-simplified-view",
			"name" : "Add a 'simplified view' option to the alerts",
			"type" : "checkbox"
		},
		{
			"key" : "codebook-simplified-view",
			"name" : "Add a 'simplified view' option to the codebook",
			"type" : "checkbox"
		},
		{
			"key" : "user-rights-simplified-view",
			"name" : "Add a 'simplified view' option to the user rights page",
			"type" : "checkbox"
		},
		{
			"key" : "my-projects-alphabetical",
			"name" : "Show 'My Projects' in alphabetical order",
			"type" : "checkbox"
		},
		{
			"key" : "single-project-redirect",
			"name" : "Redirect users with one project to that project",
			"type" : "checkbox"
		},
		{
			"key" : "fmt1",
			"name" : "<script type=\"text/javascript\">$('[field=field-types-order] td').first().css('width','40%')</script>",
			"type" : "descriptive"
		},
		{
			"key" : "fmt2",
			"name" : "<script type=\"text/javascript\">$('[field=enabled],[field=discoverable-in-project],[field=fmt1]').css('display','none')</script>",
			"type" : "descriptive"
		},
		{
			"key" : "fmt3",
			"name" : "<script type=\"text/javascript\">$('[field=user-activate-permission],[field=fmt2],[field=fmt3]').css('display','none')</script>",
			"type" : "descriptive"
		}
	],
	"project-settings" : [
		{
			"key" : "hide-unverified-option",
			"name" : "Hide 'Unverified' option on data entry forms",
			"type" : "checkbox"
		},
		{
			"key" : "require-change-reason-complete",
			"name" : "Require a reason for change for forms marked 'complete' only",
			"type" : "checkbox"
		},
		{
			"key" : "project-home-redirect",
			"name" : "Redirect from the Project Home page to this URL",
			"type" : "text"
		},
		{
			"key" : "custom-logo-name-display",
			"name" : "If custom logo/name is displayed",
			"type" : "radio",
			"choices" : [
				{ "value" : "", "name" : "Show logo and name" },
				{ "value" : "logo", "name" : "Show logo only" },
				{ "value" : "name", "name" : "Show institution/org name only" }
			],
			"super-users-only" : true
		},
		{
			"key" : "fix-form-navigation",
			"name" : "Form navigation fix",
			"type" : "checkbox",
			"super-users-only" : true
		}
	]
}
